<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.xkt.mapper.StoreMemberMapper">

    <select id="selectStoreMemberPage">
        SELECT
            sm.id AS storeMemberId,
            s.id AS storeId,
            s.store_name,
            u.user_name,
            s.contact_phone,
            sm.start_time,
            sm.end_time
        FROM
            store_member sm
                JOIN store s ON sm.store_id = s.id
                JOIN sys_user u ON s.user_id = u.user_id
        WHERE
            sm.del_flag = 0
            <if test="storeName != null  and storeName != ''"> and s.store_name like concat('%', #{storeName}, '%')</if>
        ORDER BY
            sm.create_time DESC
    </select>



</mapper>