################################################################################
# Hair-Link 美发预约管理系统 - 环境变量配置模板
#
# 使用说明：
# 1. 复制此文件为 .env（开发环境）或 .env.production（生产环境）
# 2. 根据实际环境修改配置值
# 3. 确保 .env 文件已添加到 .gitignore，不要提交到版本控制
# 4. 所有配置项都有默认值，可选择性覆盖
################################################################################

#==============================================================================
# 数据库配置 (Database Configuration)
#==============================================================================

# 主数据库主机地址
# 默认: localhost
HAIRLINK_DB_HOST=localhost

# 主数据库端口
# 默认: 3306
HAIRLINK_DB_PORT=3306

# 主数据库名称
# 默认: ry-vue
HAIRLINK_DB_NAME=ry-vue

# 主数据库连接参数
# 默认: useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
HAIRLINK_DB_PARAMS=useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8

# 主数据库用户名
# 默认: root
HAIRLINK_DB_USERNAME=root

# 主数据库密码
# 默认: password
# ⚠️ 生产环境请务必修改为强密码
HAIRLINK_DB_PASSWORD=password

# 从数据库开关（读写分离）
# 可选值: true/false
# 默认: false
HAIRLINK_DB_SLAVE_ENABLED=false

# 从数据库主机地址（仅在启用从库时需要配置）
# 默认: (空)
# HAIRLINK_DB_SLAVE_HOST=slave-host

# 从数据库端口（仅在启用从库时需要配置）
# 默认: (空)
# HAIRLINK_DB_SLAVE_PORT=3306

# 从数据库名称（仅在启用从库时需要配置）
# 默认: (空)
# HAIRLINK_DB_SLAVE_NAME=ry-vue

# 从数据库连接参数（仅在启用从库时需要配置）
# 默认: (空)
# HAIRLINK_DB_SLAVE_PARAMS=useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8

# 从数据库用户名（仅在启用从库时需要配置）
# 默认: (空)
# HAIRLINK_DB_SLAVE_USERNAME=root

# 从数据库密码（仅在启用从库时需要配置）
# 默认: (空)
# HAIRLINK_DB_SLAVE_PASSWORD=password

#------------------------------------------------------------------------------
# 数据库连接池配置 (Database Connection Pool)
#------------------------------------------------------------------------------

# 初始连接数
# 默认: 5
HAIRLINK_DB_INITIAL_SIZE=5

# 最小空闲连接数
# 默认: 10
HAIRLINK_DB_MIN_IDLE=10

# 最大活动连接数
# 默认: 20
HAIRLINK_DB_MAX_ACTIVE=20

# 获取连接等待超时时间（毫秒）
# 默认: 60000 (60秒)
HAIRLINK_DB_MAX_WAIT=60000

# 连接超时时间（毫秒）
# 默认: 30000 (30秒)
HAIRLINK_DB_CONNECT_TIMEOUT=30000

# 网络超时时间（毫秒）
# 默认: 60000 (60秒)
HAIRLINK_DB_SOCKET_TIMEOUT=60000

# 空闲连接检测间隔（毫秒）
# 默认: 60000 (60秒)
HAIRLINK_DB_TIME_BETWEEN_EVICTION=60000

# 连接在池中最小空闲时间（毫秒）
# 默认: 300000 (5分钟)
HAIRLINK_DB_MIN_EVICTABLE_IDLE_TIME=300000

# 连接在池中最大空闲时间（毫秒）
# 默认: 900000 (15分钟)
HAIRLINK_DB_MAX_EVICTABLE_IDLE_TIME=900000

#==============================================================================
# Redis 配置 (Redis Configuration)
#==============================================================================

# Redis 服务器地址
# 默认: localhost
HAIRLINK_REDIS_HOST=localhost

# Redis 服务器端口
# 默认: 6379
HAIRLINK_REDIS_PORT=6379

# Redis 数据库索引（0-15）
# 默认: 0
HAIRLINK_REDIS_DATABASE=0

# Redis 密码（如果Redis未设置密码，留空即可）
# 默认: (空)
HAIRLINK_REDIS_PASSWORD=

# Redis 连接超时时间
# 默认: 10s
HAIRLINK_REDIS_TIMEOUT=10s

#------------------------------------------------------------------------------
# Redis 连接池配置 (Redis Connection Pool)
#------------------------------------------------------------------------------

# 连接池中的最小空闲连接
# 默认: 0
HAIRLINK_REDIS_MIN_IDLE=0

# 连接池中的最大空闲连接
# 默认: 8
HAIRLINK_REDIS_MAX_IDLE=8

# 连接池的最大数据库连接数
# 默认: 8
HAIRLINK_REDIS_MAX_ACTIVE=8

# 连接池最大阻塞等待时间（使用负值表示没有限制）
# 默认: -1ms
HAIRLINK_REDIS_MAX_WAIT=-1ms

#==============================================================================
# 应用服务配置 (Application Server Configuration)
#==============================================================================

# 应用服务器端口
# 默认: 8080
HAIRLINK_SERVER_PORT=8080

# 应用上下文路径
# 默认: /
# 示例: /api 则访问地址为 http://localhost:8080/api
HAIRLINK_CONTEXT_PATH=/

# Tomcat URI 编码
# 默认: UTF-8
HAIRLINK_SERVER_URI_ENCODING=UTF-8

# 连接数满后的排队数
# 默认: 1000
HAIRLINK_SERVER_ACCEPT_COUNT=1000

# Tomcat 最大线程数
# 默认: 800
HAIRLINK_SERVER_MAX_THREADS=800

# Tomcat 启动初始化的线程数
# 默认: 100
HAIRLINK_SERVER_MIN_SPARE_THREADS=100

#------------------------------------------------------------------------------
# 文件上传配置 (File Upload Configuration)
#------------------------------------------------------------------------------

# 文件上传存储路径
# 默认: ./upload (相对路径，自动适配操作系统)
# Windows示例: D:/hairlink/upload
# Linux示例: /home/hairlink/upload
HAIRLINK_UPLOAD_PATH=./upload

# 单个文件大小限制
# 默认: 10MB
HAIRLINK_MAX_FILE_SIZE=10MB

# 总上传文件大小限制
# 默认: 20MB
HAIRLINK_MAX_REQUEST_SIZE=20MB

#==============================================================================
# Token 安全配置 (Token Security Configuration)
#==============================================================================

# JWT Token 请求头名称
# 默认: Authorization
HAIRLINK_TOKEN_HEADER=Authorization

# JWT Token 密钥
# 默认: abcdefghijklmnopqrstuvwxyz
# ⚠️ 生产环境请务必修改为复杂的随机字符串（建议32位以上）
# 生成方法: openssl rand -base64 32
HAIRLINK_TOKEN_SECRET=abcdefghijklmnopqrstuvwxyz

# Token 过期时间（单位：分钟）
# 默认: 30
HAIRLINK_TOKEN_EXPIRE_TIME=30

#==============================================================================
# 用户密码策略配置 (Password Policy Configuration)
#==============================================================================

# 密码最大错误尝试次数
# 超过此次数将锁定账户
# 默认: 5
HAIRLINK_PASSWORD_MAX_RETRY=5

# 密码错误锁定时间（单位：分钟）
# 默认: 10
HAIRLINK_PASSWORD_LOCK_TIME=10

#==============================================================================
# 应用功能配置 (Application Features Configuration)
#==============================================================================

# 验证码类型
# 可选值: math(数学计算) / char(字符验证)
# 默认: math
HAIRLINK_CAPTCHA_TYPE=math

# IP地址获取开关
# 是否启用IP地址解析功能
# 可选值: true/false
# 默认: false
HAIRLINK_ADDRESS_ENABLED=false

# 热部署开关
# 开发环境建议开启，生产环境建议关闭
# 可选值: true/false
# 默认: true
HAIRLINK_DEVTOOLS_ENABLED=true

#==============================================================================
# XSS 防护配置 (XSS Protection Configuration)
#==============================================================================

# XSS 过滤开关
# 可选值: true/false
# 默认: true
HAIRLINK_XSS_ENABLED=true

# XSS 排除链接（多个用逗号分隔）
# 这些链接不进行XSS过滤
# 默认: /system/notice
HAIRLINK_XSS_EXCLUDES=/system/notice

# XSS 匹配链接（多个用逗号分隔）
# 只对这些链接进行XSS过滤
# 默认: /system/*,/monitor/*,/tool/*
HAIRLINK_XSS_URL_PATTERNS=/system/*,/monitor/*,/tool/*

#==============================================================================
# 防盗链配置 (Referer Protection Configuration)
#==============================================================================

# 防盗链开关
# 可选值: true/false
# 默认: false
HAIRLINK_REFERER_ENABLED=false

# 允许的域名列表（多个用逗号分隔）
# 默认: localhost,127.0.0.1
HAIRLINK_REFERER_ALLOWED_DOMAINS=localhost,127.0.0.1

#==============================================================================
# Druid 数据库监控配置 (Druid Monitor Configuration)
#==============================================================================

# Druid 监控后台管理员用户名
# 访问地址: http://localhost:8080/druid
# 默认: admin
# ⚠️ 生产环境请务必修改
HAIRLINK_DRUID_USERNAME=admin

# Druid 监控后台管理员密码
# 默认: 123456
# ⚠️ 生产环境请务必修改为强密码
HAIRLINK_DRUID_PASSWORD=123456

# 慢 SQL 记录阈值（单位：毫秒）
# 超过此时间的SQL将被记录为慢SQL
# 默认: 1000 (1秒)
HAIRLINK_DRUID_SLOW_SQL_MILLIS=1000

#==============================================================================
# 日志配置 (Logging Configuration)
#==============================================================================

# 日志文件存储路径
# 默认: ./logs (相对路径，自动适配操作系统)
# Windows示例: D:/hairlink/logs
# Linux示例: /home/hairlink/logs
HAIRLINK_LOG_PATH=./logs

# 日志文件保留天数
# 默认: 60
HAIRLINK_LOG_MAX_HISTORY=60

# com.ruoyi 包的日志级别
# 可选值: trace/debug/info/warn/error
# 默认: debug
HAIRLINK_LOG_LEVEL_RUOYI=debug

# Spring 框架的日志级别
# 可选值: trace/debug/info/warn/error
# 默认: warn
HAIRLINK_LOG_LEVEL_SPRING=warn

#==============================================================================
# Swagger API 文档配置 (Swagger Configuration)
#==============================================================================

# Swagger 开关
# 开发环境建议开启，生产环境建议关闭
# 可选值: true/false
# 默认: true
HAIRLINK_SWAGGER_ENABLED=true

# Swagger 请求前缀
# 默认: /dev-api
HAIRLINK_SWAGGER_PATH_MAPPING=/dev-api

################################################################################
# 配置优先级说明：
# 1. 环境变量 > YAML配置文件
# 2. 如果环境变量未设置，将使用YAML中的默认值
# 3. 建议生产环境通过环境变量覆盖敏感配置
#
# 生产环境必须修改的配置项：
# - HAIRLINK_DB_PASSWORD: 数据库密码
# - HAIRLINK_TOKEN_SECRET: Token密钥（建议32位以上随机字符串）
# - HAIRLINK_DRUID_PASSWORD: Druid监控密码
# - HAIRLINK_REDIS_PASSWORD: Redis密码（如果Redis设置了密码）
# - HAIRLINK_DEVTOOLS_ENABLED: 建议设置为false
# - HAIRLINK_SWAGGER_ENABLED: 建议设置为false
################################################################################
